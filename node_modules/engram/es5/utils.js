#!/usr/bin/env node


"use strict";

var Result = require('engram/es5/result').Result;

exports.randomDigits = function (len) {

	var out = '';

	for (var ith = 0; ith < len; ++ith) {
		out += Math.floor(Math.random() * 10);
	}

	return out;
};

exports.getIpAddress = function (req) {

	return Result.of(function () {
		return req.headers['x-forwarded-for'] || req.connection.remoteAddress;
	});
};

exports.isIgnoredURL = function (url) {

	return [/^http[:]\/\/localhost/g, /css[.]map$/g, /^javascript[:]/g, /^http[s]{0,1}[:]\/\/localhost/g].some(function (pattern) {
		return pattern.test(url);
	});
};
