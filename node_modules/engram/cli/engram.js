#!/usr/bin/env node

"use strict"





var doc = `

Usage:
	engram run   [-p X | --port X] [-d X | --dbpath X] [-k X | --keypath X] [-c X | --certpath X]
	engram certs [-p X | --port X] [-d X | --dbpath X] [-k X | --keypath X] [-c X | --certpath X]
	engram wipe  [--logs] [--database]
	engram       (-h | --help | --version)

Version:
	v0.1.0

Description:
	Engram is a bookmark server.

Options:
	-p X, --port X       the port to run the server from [default: 5000].
	-d X, --dbpath X     the path to save the database to [default: data/engram.db].
	-k X, --keypath X    the path to the server HTTPS private key [default: certs/key.pem].
	-c X, --certpath X   the path to the server HTTPS certificate [default: certs/cert.pem].
	--logs               should the server logs be wiped?
	--database           should the server database be wiped?
	-h, --help           lookup the help-files.
	--version            show the version number.
`




var log    = require('engram/logging/logger')
var docopt = require('docopt').docopt
var server = require('engram/app/start-server.js')
var args   = docopt(doc)





server(args, apps => {
	log.global.info({ }, 'startup completed.')
})
