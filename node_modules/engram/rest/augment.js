
"use strict"





var is      = require('is')
var commons = require('engram/commons/commons')




var augment = (specs, patch) => {

	augment.precond(specs, patch)

	specs.routes = specs.routes.map(spec => {

		return commons.data.objMap(spec, (key, value) => {

			if ( is.undefined(patch[key]) ) {

				return value

			} else {

				return is.function(patch[key])
					? patch[key](value)
					: patch[key]

			}

		})

	})

	return specs

}

augment.precond = (specs, patch) => {

	is.always.string(patch.id)

}





module.exports = augment
