#!/usr/bin/env node
"use strict";

var log = require("engram/logger");

try {

	var Result = require("engram/result").Result;
	var Ok = require("engram/result").Ok;
	var Err = require("engram/result").Err;

	var extractTitle = require("engram/extract-title");
	var createArchive = require("engram/create-archive");
	var log = require("engram/logger");
	var database = require("engram/database");

	var request = require("request");
	var fs = require("fs");
	var path = require("path");
} catch (err) {

	log.fatal({
		message: err.message,
		stacK: err.stack }, "failed to load dependencies.");

	process.exit();
}

var loadStatic = function (fpath, extension, fnames) {
	return fnames.map(function (fname) {

		return {
			content: fs.readFileSync(path.join(fpath, fname + extension))
		};
	});
};

module.exports = {
	loadJS: loadStatic.bind({}, "public/javascript/lib", ".js"),
	loadCSS: loadStatic.bind({}, "public/css", ".css")
};
