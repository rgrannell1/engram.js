
"use strict"





var bunyan      = require('bunyan')
var serialisers = require('engram/logging/serialisers')





var logging = { }



var logger = name => {
	return bunyan.createLogger({
		name,
		streams: [
			{
				type: 'file',
				path: 'log/engram.log'
			},
			{
				stream: process.stdout
			}
		],
		serializers: serialisers
	})
}




;['global', 'stats', 'security', 'error'].forEach(name => {
	logging[name] = logger(name)
})





module.exports = logging
