#!/usr/bin/env node

"use strict"





var log = require('engram/logger')

try {

	var Result        = require('engram/result').Result
	var Ok            = require('engram/result').Ok
	var Err           = require('engram/result').Err

	var fs           = require('fs')
	var path         = require('path')

	var is           = require('is')
	var express      = require('express')

	var saveBookmark = require('engram/save-bookmark')
	var URL          = require('url')
	var mustache     = require('mustache')


} catch (err) {

	log.fatal({
		message: err.message,
		stacK:   err.stack,
	}, 'failed to load dependencies.')

	process.exit( )

}




var pageRenderer = (...fpath) => {

	var template = fs.readFileSync(
		path.join.apply({ }, fpath), {encoding: 'utf8'})

	return view => mustache.to_html(template, view)

}




module.exports['export'] = pageRenderer(process.cwd( ), 'public', 'html', 'export.html')
module.exports['import'] = pageRenderer(process.cwd( ), 'public', 'html', 'import.html')
module.exports['index']  = pageRenderer(process.cwd( ), 'public', 'html', 'index.html')
