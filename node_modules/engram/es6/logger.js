#!/usr/bin/env node

"use strict"

var bunyan      = require('bunyan')
var serialisers = require('./log-serialisers')





var logger = (name) => {

	return bunyan.createLogger({
		name: name,
		streams: [
			{
				type:   'file',
				path:   `log/${name}.log`
			},
			{
				stream: process.stdout
			}
		],
		serializers: {
			req: serialisers.req,
			res: serialisers.res,
			err: serialisers.err
		}

	})

}




exports.global    = logger('engram')
exports.stats     = logger('stats')
exports.security  = logger('security')
exports.jobResult = logger('job-result')
exports.err       = logger('err')
