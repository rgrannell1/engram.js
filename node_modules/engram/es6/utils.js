#!/usr/bin/env node

"use strict"





var Result = require('engram/es6/result').Result




exports.randomDigits = len => {

	var out = ''

	for (var ith = 0; ith < len; ++ith) {
		out += Math.floor(Math.random( ) * 10)
	}

	return out

}

exports.getIpAddress = req => {

	return Result.of(( ) => {
		return req.headers['x-forwarded-for'] || req.connection.remoteAddress
	})

}

exports.isIgnoredURL = url => {

	return [
		/^http[:]\/\/localhost/g,
		/css[.]map$/g,
		/^javascript[:]/g,
		/^http[s]{0,1}[:]\/\/localhost/g
	]
	.some(pattern => pattern.test(url))

}
