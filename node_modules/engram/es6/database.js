#!/usr/bin/env node

"use strict"





var log     = require('engram/logger')

var Result  = require('engram/result').Result
var Ok      = require('engram/result').Ok
var Err     = require('engram/result').Err

var log     = require('engram/logger')
var sqlite3 = require('sqlite3').verbose( )

var path    = require('path')










{
	// -- to refactor.
	let database = new sqlite3.Database(path.join(process.cwd( ), 'data', 'engram.db'))

	var do = (executor, callback) => {

		database.serialize(( ) => {

			executor(database, callback)

		})

	}

	var close = database.close

}





module.exports = {do, close}
