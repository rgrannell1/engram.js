#!/usr/bin/env node
"use strict";

var log = require("engram/logger");
var database = require("engram/database");

var exitHandler = function (shouldExit, err) {

	if (err) {

		log.fatal({
			message: err.message,
			stack: err.stack
		}, "uncaught exception");
	}

	if (shouldExit) {
		// database.close( ) causes segfault at the moment.
		process.exit();
	}
};

module.exports = exitHandler;