
"use strict"





var is = require('is')





var compileRoute = (app, spec) => {


	compileRoute.precond(app, spec)

	var specPredicate = (req, res, next) => {
		next( )
	}

	app[spec.method]( spec.route, [specPredicate].concat(spec.fns) )

}

compileRoute.precond = (app, spec) => {

	is.always.object(spec)

	is.always.array(spec.fns)
	is.always.string(spec.route)
	is.always.string(spec.method)

}





var attachRoutes = (app, routes) => {

	attachRoutes.precond(app, routes)

	routes.forEach(route => compileRoute(app, route))

	return app

}

attachRoutes.precond = (app, routes) => {
	is.always.array(routes)
}




module.exports = attachRoutes
